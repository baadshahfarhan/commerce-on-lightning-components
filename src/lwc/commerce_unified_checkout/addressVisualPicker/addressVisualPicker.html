<template lwc:render-mode="light">
    <div class="slds-form-element__control">
        <div class="slds-grid slds-wrap slds-gutters_direct-x-small slds-grid_vertical-stretch address-stretch">
            <template for:each={transformedOptions} for:item="option">
                <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-3" key={option.address.addressId}>
                    <div class="slds-visual-picker address-card slds-p-bottom_medium card-address-height">
                        <input
                            type="radio"
                            name={name}
                            id={option.indexId}
                            value={option.address.addressId}
                            checked={option.isChecked}
                            disabled={disabled}
                            onchange={handleChange}
                        />
                        <label class="slds-radio__label card-address-height" for={option.indexId}>
                            <span class="slds-visual-picker__figure slds-visual-picker__text slds-text-align_left card-address-height">
                                <div class="slds-m-around_medium card-address-fit">
                                    <div class="slds-grid">
                                        <div class="slds-col">
                                            <h3 class="slds-text-heading_small">{option.name}</h3>
                                        </div>
                                        <div if:true={option.address.isDefault} class="slds-col slds-size_1-of-4">
                                            <lightning-badge label={badgeLabel}></lightning-badge>
                                        </div>
                                    </div>
                                    <div class="slds-p-top_x-small">
                                        <lightning-formatted-address
                                            street={option.address.street}
                                            city={option.address.city}
                                            country={option.countryLabel}
                                            province={option.address.region}
                                            postal-code={option.address.postalCode}
                                            locale={option.customLocale}
                                            disabled
                                        ></lightning-formatted-address>
                                    </div>
                                    <div if:true={option.canEdit} class="slds-p-top_x-small">
                                        <lightning-button
                                            data-edit
                                            variant="base"
                                            label={editAddressLabel}
                                            aria-label={option.ariaLabel}
                                            onclick={handleEdit}
                                            value={option.address.addressId}
                                        ></lightning-button>
                                    </div>
                                </div>
                            </span>
                            <span if:true={option.isChecked} class="slds-icon_container slds-visual-picker__text-check">
                                <svg class="slds-icon-custom-check slds-icon slds-icon_x-small" aria-hidden="true">
                                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#check"></use>
                                </svg>
                            </span>
                        </label>
                    </div>
                </div>
            </template>
        </div>
    </div>
</template>
